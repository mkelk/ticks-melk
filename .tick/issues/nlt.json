{
  "acceptance_criteria": "- [ ] Ready() excludes ticks with Awaiting set\n- [ ] Ready() excludes ticks with Manual=true (unchanged)\n- [ ] Uses IsAwaitingHuman() helper for consistency\n- [ ] tk next no longer returns awaiting ticks\n- [ ] Backwards compat with existing Manual handling",
  "blocked_by": [
    "bet"
  ],
  "closed_at": "2026-01-14T17:28:02.704474Z",
  "closed_reason": "Added IsAwaitingHuman() check in isReady() function to exclude ticks with Awaiting set or legacy Manual=true flag. Added TestReadyExcludesAwaitingTicks test case.",
  "created_at": "2026-01-14T16:18:02.508236Z",
  "created_by": "peter@engelbrecht.dk",
  "description": "Modify query.Ready() in internal/query/ready.go to exclude ticks with awaiting set\n\nCurrent behavior:\n- Returns open/in_progress ticks not blocked by open blockers\n- Respects defer_until dates\n- Excludes Manual=true (via separate --include-manual flag in CLI)\n\nNew behavior:\n- Also exclude ticks where Awaiting != null\n- Use tick.IsAwaitingHuman() helper for backwards compat with Manual\n\nThis is critical for ticker integration:\n- tk next uses Ready() to find agent-workable tasks\n- Tasks awaiting human response should NOT be returned\n- Agent should move on to other tasks while waiting for human\n\nImplementation:\nIn the Ready() filter loop, add check:\n  if t.IsAwaitingHuman() {\n      continue // Skip, waiting for human\n  }\n\nNote: The Manual field handling may already be in CLI layer (--include-manual). Need to consolidate with awaiting handling.",
  "id": "nlt",
  "owner": "peter@engelbrecht.dk",
  "parent": "9fb",
  "priority": 1,
  "status": "closed",
  "title": "Update query.Ready to exclude awaiting ticks",
  "type": "task",
  "updated_at": "2026-01-14T17:28:02.704474Z"
}