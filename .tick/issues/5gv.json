{
  "id": "5gv",
  "title": "Implement POST /ticks - create new tick",
  "description": "Add endpoint to create a new tick via API.\n\n## Endpoint\n\n```\nPOST /api/projects/:project/ticks\nContent-Type: application/json\n```\n\n## Request body\n\n```json\n{\n  \"title\": \"Review deployment logs\",\n  \"description\": \"Check for errors in production deployment\",\n  \"type\": \"task\",\n  \"priority\": 2,\n  \"owner\": \"alice\",\n  \"parent\": \"epic123\",\n  \"labels\": [\"ops\", \"urgent\"]\n}\n```\n\n## Required fields\n\n- `title` (string)\n\n## Optional fields\n\n| Field | Type | Default |\n|-------|------|---------|\n| description | string | \"\" |\n| type | string | \"task\" |\n| priority | number | 2 |\n| status | string | \"open\" |\n| owner | string | null |\n| parent | string | null |\n| labels | string[] | [] |\n\n## Response (201 Created)\n\n```json\n{\n  \"id\": \"x7k\",\n  \"title\": \"Review deployment logs\",\n  \"type\": \"task\",\n  \"status\": \"open\",\n  \"priority\": 2,\n  \"created_at\": \"2026-01-22T10:00:00Z\",\n  \"updated_at\": \"2026-01-22T10:00:00Z\",\n  ...\n}\n```\n\n## Response (400 Bad Request)\n\n```json\n{\n  \"error\": \"title is required\"\n}\n```\n\n## Implementation\n\n```typescript\n// POST /api/projects/:project/ticks\nif (url.pathname.match(/\\/ticks\\/?$/) \u0026\u0026 request.method === \"POST\") {\n  const body = await request.json() as Record\u003cstring, unknown\u003e;\n  \n  if (!body.title || typeof body.title !== \"string\") {\n    return Response.json({ error: \"title is required\" }, { status: 400 });\n  }\n  \n  const now = new Date().toISOString();\n  const id = generateTickId(); // 3-char random\n  \n  const tick: Tick = {\n    id,\n    title: body.title,\n    description: (body.description as string) || \"\",\n    type: (body.type as string) || \"task\",\n    status: (body.status as string) || \"open\",\n    priority: typeof body.priority === \"number\" ? body.priority : 2,\n    owner: (body.owner as string) || undefined,\n    parent: (body.parent as string) || undefined,\n    labels: Array.isArray(body.labels) ? body.labels : [],\n    notes: [],\n    created_at: now,\n    updated_at: now,\n  };\n  \n  this.ticks.set(id, tick);\n  await this.persistState();\n  this.broadcast({ type: \"tick_created\", tick });\n  \n  const userId = request.headers.get(\"X-User-Id\") || \"unknown\";\n  console.log(`[ProjectRoom:${this.projectId}] Tick ${id} created via API by ${userId}`);\n  \n  return Response.json(tick, { status: 201 });\n}\n```\n\n## Files to modify\n\n- `cloud/worker/src/project-room.ts`",
  "status": "open",
  "priority": 2,
  "type": "task",
  "owner": "peter@engelbrecht.dk",
  "labels": [
    "api",
    "write"
  ],
  "parent": "qr4",
  "created_by": "peter@engelbrecht.dk",
  "created_at": "2026-01-22T07:33:50.439706Z",
  "updated_at": "2026-01-22T07:33:50.439706Z"
}